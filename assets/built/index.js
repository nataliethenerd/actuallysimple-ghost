!function(){"use strict";let t=document.querySelector('link[rel="next"]')?.getAttribute("href");document.querySelector(".gh-burger").addEventListener("click",(function(){document.body.classList.toggle("gh-head-open")})),function(){if(!t)return;new IntersectionObserver(((e,o)=>{try{e.forEach((e=>{e.isIntersecting&&t&&async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch page");const o=await e.text(),n=(new DOMParser).parseFromString(o,"text/html"),s=n.querySelectorAll(".post"),c=n.querySelector('link[rel="next"]')?.getAttribute("href");return{posts:s,nextLink:c}}catch(t){throw new Error(t)}}(t).then((e=>{let{posts:n,nextLink:s}=e;n.forEach((t=>{document.querySelector(".gh-postfeed").append(t)})),s?(t=s,o.observe(document.querySelector(".post:last-of-type"))):o.disconnect()}))}))}catch(t){console.log(t)}}),{rootMargin:"150px"}).observe(document.querySelector(".post:last-of-type"))}(),function(){const t=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",t),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("dark-mode-toggle"),o=e?e.querySelector(".toggle-icon"):null;e&&o&&(o.textContent="dark"===t?"☀":"☽",e.setAttribute("title","dark"===t?"Switch to light mode":"Switch to dark mode"),e.addEventListener("click",(function(){const t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),o.textContent="dark"===t?"☀":"☽",e.setAttribute("title","dark"===t?"Switch to light mode":"Switch to dark mode")})))}))}(),function(){function t(t){console.log("Adding feedback to button:",t),t.classList.add("loading"),t.disabled=!0,console.log("Button classes after loading:",t.classList.toString()),setTimeout((()=>{t.classList.remove("loading"),t.classList.add("success"),t.disabled=!1,console.log("Button classes after success:",t.classList.toString()),setTimeout((()=>{t.classList.remove("success"),console.log("Button reset, classes:",t.classList.toString())}),3e3)}),1500)}function e(){console.log("Initializing subscribe buttons..."),document.addEventListener("click",(function(e){const o=e.target;if(o.matches(".subscribe-button, .newsletter-button")||o.matches('.sidebar-newsletter-form button[type="submit"]')||o.matches('[data-members-form] button[type="submit"]')){if(console.log("Subscribe button clicked:",o),o.classList.contains("loading")||o.classList.contains("success"))return;t(o)}})),document.addEventListener("submit",(function(e){if(e.target.matches("[data-members-form]")){const o=e.target.querySelector('button[type="submit"]');o&&!o.classList.contains("loading")&&(console.log("Form submitted, adding feedback to button:",o),t(o))}})),console.log("Subscribe button initialization complete")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}()}();
//# sourceMappingURL=index.js.map
